# Coturn TURN server configuration

# Listening port for TURN/STUN
listening-port=3478

# TLS listening port (optional, but recommended)
tls-listening-port=5349

# Listening IP (0.0.0.0 means all interfaces)
listening-ip=0.0.0.0

# External IP will be detected automatically by Render
# This is your server's public IP
# No need to set it manually on Render

# Relay IP (same as listening IP for Render)
relay-ip=0.0.0.0

# Enable verbose logging for debugging
verbose

# Use fingerprints in TURN messages
fingerprint

# Enable long-term credential mechanism
lt-cred-mech

# User credentials (username:password format)
# Change these to your own secure credentials!
user=babymonitor:securepassword123
user=webcam:mypassword456

# Realm (domain) for authentication
realm=turn.yourdomain.com

# Total bandwidth limit per session (in kbps)
# 2000 kbps = 2 Mbps (good for HD video)
max-bps=2000000

# Connection lifetime
user-quota=0
total-quota=0

# Disable CLI (not needed for Docker)
no-cli

# Enable STUN
stun-only=0

# Deny connections to private IP ranges (security)
no-multicast-peers
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=100.64.0.0-100.127.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=169.254.0.0-169.254.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.0.0.0-192.0.0.255
denied-peer-ip=192.0.2.0-192.0.2.255
denied-peer-ip=192.88.99.0-192.88.99.255
denied-peer-ip=192.168.0.0-192.168.255.255
denied-peer-ip=198.18.0.0-198.19.255.255
denied-peer-ip=198.51.100.0-198.51.100.255
denied-peer-ip=203.0.113.0-203.0.113.255
denied-peer-ip=240.0.0.0-255.255.255.255

# Logging
log-file=stdout
simple-log
